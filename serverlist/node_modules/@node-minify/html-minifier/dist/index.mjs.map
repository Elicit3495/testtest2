{"version":3,"sources":["../src/index.ts"],"sourcesContent":["/*!\n * node-minify\n * Copyright(c) 2011-2023 Rodolphe Stoclin\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\nimport minifier from 'html-minifier';\nimport { utils } from '@node-minify/utils';\nimport { MinifierOptions } from '@node-minify/types';\n\n/**\n * Module variables.\n */\nconst HTMLMinifier = minifier.minify;\nconst defaultOptions = {\n  collapseBooleanAttributes: true,\n  collapseInlineTagWhitespace: true,\n  collapseWhitespace: true,\n  minifyCSS: true,\n  minifyJS: true,\n  removeAttributeQuotes: true,\n  removeCDATASectionsFromCDATA: true,\n  removeComments: true,\n  removeCommentsFromCDATA: true,\n  removeEmptyAttributes: true,\n  removeOptionalTags: true,\n  removeRedundantAttributes: true,\n  removeScriptTypeAttributes: true,\n  removeStyleLinkTypeAttributes: true,\n  useShortDoctype: true\n};\n\n/**\n * Run html-minifier.\n *\n * @param {Object} settings\n * @param {String} content\n * @param {Function} callback\n */\nconst minifyHTMLMinifier = ({ settings, content, callback, index }: MinifierOptions) => {\n  const options = Object.assign({}, defaultOptions, settings?.options);\n  const contentMinified = HTMLMinifier(content ?? '', options);\n  if (settings && !settings.content && settings.output) {\n    settings.output && utils.writeFile({ file: settings.output, content: contentMinified, index });\n  }\n  if (callback) {\n    return callback(null, contentMinified);\n  }\n  return contentMinified;\n};\n\n/**\n * Expose `minifyHTMLMinifier()`.\n */\nminifyHTMLMinifier.default = minifyHTMLMinifier;\nexport = minifyHTMLMinifier;\n"],"mappings":";;;;;;AASA,OAAO,cAAc;AACrB,SAAS,aAAa;AAVtB;AAAA;AAgBA,QAAM,eAAe,SAAS;AAC9B,QAAM,iBAAiB;AAAA,MACrB,2BAA2B;AAAA,MAC3B,6BAA6B;AAAA,MAC7B,oBAAoB;AAAA,MACpB,WAAW;AAAA,MACX,UAAU;AAAA,MACV,uBAAuB;AAAA,MACvB,8BAA8B;AAAA,MAC9B,gBAAgB;AAAA,MAChB,yBAAyB;AAAA,MACzB,uBAAuB;AAAA,MACvB,oBAAoB;AAAA,MACpB,2BAA2B;AAAA,MAC3B,4BAA4B;AAAA,MAC5B,+BAA+B;AAAA,MAC/B,iBAAiB;AAAA,IACnB;AASA,QAAM,qBAAqB,CAAC,EAAE,UAAU,SAAS,UAAU,MAAM,MAAuB;AACtF,YAAM,UAAU,OAAO,OAAO,CAAC,GAAG,gBAAgB,UAAU,OAAO;AACnE,YAAM,kBAAkB,aAAa,WAAW,IAAI,OAAO;AAC3D,UAAI,YAAY,CAAC,SAAS,WAAW,SAAS,QAAQ;AACpD,iBAAS,UAAU,MAAM,UAAU,EAAE,MAAM,SAAS,QAAQ,SAAS,iBAAiB,MAAM,CAAC;AAAA,MAC/F;AACA,UAAI,UAAU;AACZ,eAAO,SAAS,MAAM,eAAe;AAAA,MACvC;AACA,aAAO;AAAA,IACT;AAKA,uBAAmB,UAAU;AAC7B,qBAAS;AAAA;AAAA;","names":[]}